webpackJsonp([6],{"/vBd":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.editor[data-v-ea422f48]{\n  height: 100%;\n  position: relative;\n}\n.editor[data-v-ea422f48] .CodeMirror {\n  height: 400px;\n  min-height: 300px;\n}\n.editor[data-v-ea422f48] .CodeMirror-scroll{\n  min-height: 300px;\n}\n.editor[data-v-ea422f48] .cm-s-monokai span.cm-string {\n  color: #F08047;\n}\n",""])},"2mH8":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,'\n.el-tree-node__content[data-v-4bca5913] {\n  height: 34px;\n}\n.node-time[data-v-4bca5913] {\n  margin-right: 10px;\n  font-size: 14px;\n}\n.clearfix[data-v-4bca5913]:before,\n.clearfix[data-v-4bca5913]:after {\n  display: table;\n  content: "";\n}\n.clearfix[data-v-4bca5913]:after {\n  clear: both\n}\n.el-card[data-v-4bca5913] {\n  border: none;\n}\n.el-card.is-always-shadow[data-v-4bca5913], .el-card.is-hover-shadow[data-v-4bca5913]:focus, .el-card.is-hover-shadow[data-v-4bca5913]:hover {\n-webkit-box-shadow : none;\n box-shadow: none;\n}\n\n\n\n',""])},"34CH":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.custom-tree-node {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  /* align-items: center; */\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  font-size: 16px;\n  padding-right: 8px;\n}\n.action {\n  margin-left: 10px;\n  opacity: 0.1;\n}\n.el-tree-node__content:hover .action {\n  opacity: 1;\n}\n.action:hover {\n  color: #0091EA\n}\n.icon-folder {\n  /* color: #FF7043; */\n  /* font-weight: bolder; */\n}\n.icon-process {\n /* color: #40C4FF; */\n}\n.icon-box {\n  /* color: #FFD54F; */\n}\n\n",""])},BGlY:function(e,t,n){var a=n("34CH");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("a870d33e",a,!0)},RRVi:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.timing[data-v-0156abd2] {\n    display: inline-block;\n    width: 130px;\n}\n.session-dialog[data-v-0156abd2] {\n  min-height: 700px;\n}\n.error-message .editor[data-v-0156abd2]{\n  max-height: 200px !important;\n  min-height: unset;\n}\n.CodeMirror[data-v-0156abd2] {\n  min-height: unset !important;\n  max-height: 200px !important;\n}\n.error-message .editor[data-v-0156abd2] {\n  min-height: unset;\n}\n/* .cm-s-monokai {\n  max-height: 200px !important;\n} */\n\n",""])},cMVy:function(e,t,n){var a=n("/vBd");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("64ae5016",a,!0)},dK4L:function(e,t,n){var a=n("RRVi");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("0e8da662",a,!0)},iTKD:function(e,t,n){"use strict";var a=n("Dd8w"),o=n.n(a),i=n("8U58"),s=n.n(i);n("4/hK"),n("UM8r"),n("5IAE"),n("JGZi");n("7bwT"),n("aGTD"),n("U80t");var r={name:"editor",data:function(){return{editor:!1}},props:["value","options"],watch:{value:function(e){e!==this.editor.getValue()&&this.editor.setValue(this.value)}},mounted:function(){var e=this;this.editor=s.a.fromTextArea(this.$refs.textarea,o()({lineNumbers:!1,mode:"text/x-sql",gutters:[],theme:"monokai",autoRefresh:{delay:250},lint:!1},this.options)),this.editor.setValue(this.value),this.editor.on("change",function(t){e.$emit("changed",t.getValue()),e.$emit("input",t.getValue())})},methods:{getValue:function(){return this.editor.getValue()}}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"editor"},[t("textarea",{ref:"textarea"})])},staticRenderFns:[]};var l=n("VU/8")(r,c,!1,function(e){n("cMVy")},"data-v-ea422f48",null);t.a=l.exports},pECb:function(e,t,n){var a=n("2mH8");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("61b6dd09",a,!0)},u1Y3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),o=n.n(a),i=n("PJh5"),s=n.n(i),r=n("M4fF"),c=n.n(r),l=n("NYxO"),d=n("qorP"),u=n("2hfY"),m=n("zL8q"),f=n("iTKD"),h={props:{visible:{type:Boolean,default:!1},obj:{type:Object,default:function(){}}},components:{Editor:f.a},data:function(){return{activeTab:"general",loading:!1,activeConnection:"connection-target",options:{name:"",exportChildComponents:!0,exportKey:void 0,reExportKey:void 0,xmlVersion:"1.0",xmlCharSet:"ISO-8859-1",javaCharSet:"ISO8859_1"},rules:{name:[{required:!0,trigger:"blur",message:"Name is required"}]}}},computed:o()({},Object(l.c)(["connection"]),{title:function(){return this.obj.name1+" "+this.obj.name2+" "+this.obj.name3},startTime:function(){return Object(u.b)(this.obj.startTime)},endTime:function(){return Object(u.b)(this.obj.endTime)},alertType:function(){switch(this.obj.status){case"ERROR":return"error";case"DONE":return"success";case"WARNING":return"warning";default:return"primary"}},activeCode:function(){return this.obj.sourceCommand?"code-source":this.obj.targetCommand?"code-target":void 0}}),methods:{onClose:function(){this.$emit("close")},onOpen:function(){switch(this.obj.type){case"SCENARIO":this.options.name=this.obj.name+"_Version_"+this.obj.version;break;default:this.options.name=this.obj.name}}}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"session-dialog",attrs:{visible:e.visible,title:e.title},on:{close:e.onClose,open:e.onOpen}},[n("el-tabs",{attrs:{"tab-position":"left"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("el-tab-pane",{attrs:{label:"General",name:"general"}},[n("el-alert",{attrs:{title:e.obj.status,type:e.alertType,closable:!1}}),n("el-form",{staticStyle:{"margin-top":"20px"},attrs:{"label-width":"140px"}},[n("el-form-item",{attrs:{label:"Start time"}},[n("el-input",{attrs:{readonly:"readonly","suffix-icon":"el-icon-date"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),n("el-form-item",{attrs:{label:"End time"}},[n("el-input",{attrs:{readonly:"readonly","suffix-icon":"el-icon-date"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),n("el-form-item",{attrs:{label:"Duration"}},[n("el-input",{attrs:{readonly:"readonly",placeholder:"Pick a date"},model:{value:e.obj.duration,callback:function(t){e.$set(e.obj,"duration",t)},expression:"obj.duration"}},[n("span",{staticClass:"seconds",attrs:{slot:"suffix"},slot:"suffix"},[e._v("seconds")])])],1),e.obj.errorMessage?n("div",{staticClass:"error-message",staticStyle:{"max-height":"200px"}},[n("editor",{attrs:{value:e.obj.errorMessage}})],1):e._e()],1)],1),n("el-tab-pane",{attrs:{label:"Code",name:"code"}},[n("el-collapse",{attrs:{accordion:"accordion"},model:{value:e.activeCode,callback:function(t){e.activeCode=t},expression:"activeCode"}},[n("el-collapse-item",{attrs:{title:"Source",name:"code-source"}},[n("editor",{attrs:{value:e.obj.sourceCommand?e.obj.sourceCommand:""}})],1),n("el-collapse-item",{attrs:{title:"Target",name:"code-target"}},[n("editor",{attrs:{value:e.obj.targetCommand?e.obj.targetCommand:""}})],1)],1)],1),n("el-tab-pane",{attrs:{label:"Connection",name:"connection"}},[n("el-collapse",{attrs:{accordion:"accordion"},model:{value:e.activeConnection,callback:function(t){e.activeConnection=t},expression:"activeConnection"}},[n("el-collapse-item",{attrs:{title:"Source",name:"connection-source"}},[n("el-form",{staticStyle:{"margin-top":"20px"},attrs:{"label-width":"140px"}},[n("el-form-item",{attrs:{label:"Connection name"}},[n("el-input",{attrs:{readonly:"readonly"},model:{value:e.obj.sourceDataServerName,callback:function(t){e.$set(e.obj,"sourceDataServerName",t)},expression:"obj.sourceDataServerName"}})],1),n("el-form-item",{attrs:{label:"Logical schema"}},[n("el-input",{attrs:{readonly:"readonly"},model:{value:e.obj.sourceLogicalSchemaName,callback:function(t){e.$set(e.obj,"sourceLogicalSchemaName",t)},expression:"obj.sourceLogicalSchemaName"}})],1)],1)],1),n("el-collapse-item",{attrs:{title:"Target",name:"connection-target"}},[n("el-form",{staticStyle:{"margin-top":"20px"},attrs:{"label-width":"140px"}},[n("el-form-item",{attrs:{label:"Connection name"}},[n("el-input",{attrs:{readonly:"readonly"},model:{value:e.obj.targetDataServerName,callback:function(t){e.$set(e.obj,"targetDataServerName",t)},expression:"obj.targetDataServerName"}})],1),n("el-form-item",{attrs:{label:"Logical schema"}},[n("el-input",{attrs:{readonly:"readonly"},model:{value:e.obj.targetLogicalSchemaName,callback:function(t){e.$set(e.obj,"targetLogicalSchemaName",t)},expression:"obj.targetLogicalSchemaName"}})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var b={components:{SessionDetail:n("VU/8")(h,p,!1,function(e){n("dK4L")},"data-v-0156abd2",null).exports},props:{loading:{type:Boolean,default:!1}},watch:{filterText:function(e){this.$refs.executables.filter(e)}},data:function(){return{loadingAll:!1,running:!1,session:{},detailVisible:!1,header:"",filterText:void 0,treeProps:{label:"name",isLeaf:"leaf"},exec:{},sessions:[{name:"Date",icon:"calendar",_key:"CALENDAR",leaf:!1},{name:"Agent",icon:"antenna-2",leaf:!1,_key:"AGENTS",children:[]},{name:"Status",icon:"traffic-lights",_key:"STATUS",children:[]},{name:"Users",_key:"USERS",icon:"woman",children:[]},{_key:"ALL",name:"All Sessions",icon:"office-material",children:[]}],statuses:[{name:"Error",_key:"ERROR",icon:"status-ERROR",children:[]},{name:"Success",icon:"status-DONE",_key:"DONE",children:[]},{name:"Running",icon:"status-RUNNING",_key:"RUNNING",children:[]},{name:"Warning",icon:"status-WARNING",_key:"WARNING",children:[]},{name:"Waiting",icon:"status-WAITING",_key:"WAITING",children:[]}],calendar:[{name:"Today",children:[],icon:"calendar",isLeaf:"false",_key:"TODAY"},{name:"Yesterday",children:[],icon:"calendar",_key:"YESTERDAY"},{name:"This week",children:[],icon:"calendar",_key:"THIS_WEEK"}]}},computed:o()({},Object(l.c)(["connection"]),Object(l.c)("users",{users:"all"}),Object(l.c)("agent",{agents:"all"})),methods:o()({},Object(l.b)("session",["findByCriteria","findAll","findById","purge"]),Object(l.b)("security",{findOdiUsers:"findOdiUsers"}),{purgeLogs:function(){var e=this,t=this.connection.id;this.loadingAll=!0,this.purge({connectionId:t}).then(function(t){m.Message.success("Success. Purged logs."),e.loadingAll=!1},function(t){console.log(t),e.loadingAll=!1,m.Message.success("Error! Failed to purge logs.")})},onMenuCommand:function(e){switch(e){case"purge":this.purgeLogs()}},load:function(e,t){if(0===e.level)return t(this.sessions);var n=this.connection.id,a=void 0,o=void 0;switch(e.data._key){case"ALL":this.findAll({connectionId:n}).then(function(e){t(c.a.map(e.data,function(e){return e.icon="status-"+e.status,e._name=e.name,e._key="SESSION",e.startTime&&(e.name=e._name+" - "+s()(e.startTime).format("MMMM D hh:mm:ss a")),e}))},function(e){t([]),console.log(e),m.Message.error(e)});break;case"USERS":this.findOdiUsers({connectionId:n}).then(function(e){t(c.a.map(e,function(e){return e._key="USER",e.icon="boy",e}))},function(e){console.log(e),t([])});break;case"STATUS":t(this.statuses);break;case"CALENDAR":t(this.calendar);break;case"SESSION":a=e.data.id,this.findById({connectionId:n,id:a}).then(function(e){var n=e.data;n.icon="status-"+n.status,n._key="SESSION_STEP",t([n])},function(e){console.log(e),m.Message.error(e),t([])});break;case"SESSION_STEP":t(c.a.map(e.data.children,function(e){return e.icon="status-"+e.status,e._key="SESSION_TASK_LOG",e}));break;case"SESSION_TASK_LOG":c.a.isEmpty(e.data.children)&&t([]),t(c.a.chain(e.data.children).filter(function(e){return!e.name1.startsWith("SERIAL")}).map(function(e){return e.icon="status-"+e.status,e._key="SESSION_TASK_LOG",e.name=e.name1+" "+e.name2+" "+e.name3,e._leaf=c.a.isEmpty(e.children),e}).value());break;case"USER":o={submitterName:e.data.name},this.findByCriteria({connectionId:n,criteria:o}).then(function(e){t(c.a.map(e.data,function(e){return e.icon="status-"+e.status,e._name=e.name,e._key="SESSION",e.startTime&&(e.name=e._name+" - "+s()(e.startTime).format("MMMM D hh:mm:ss a")),e}))},function(e){t([]),console.log(e),m.Message.error(e)});break;case"DONE":case"ERROR":case"WAITING":case"WARNING":case"RUNNING":o={statuses:[e.data._key]},this.findByCriteria({connectionId:n,criteria:o}).then(function(e){t(c.a.map(e.data,function(e){return e.icon="status-"+e.status,e._name=e.name,e._key="SESSION",e.startTime&&(e.name=e._name+" - "+s()(e.startTime).format("MMMM D hh:mm:ss a")),e}))},function(e){t([]),console.log(e),m.Message.error(e)});break;case"AGENTS":t(c.a.map(this.agents,function(e){return e.icon="antenna",e.key="AGENT",e}));break;case"AGENT":o={agentNames:[e.data.name]},this.findByCriteria({connectionId:n,criteria:o}).then(function(e){t(c.a.map(e.data,function(e){return e.icon="status-"+e.status,e._name=e.name,e._key="SESSION",e.startTime&&(e.name=e._name+" - "+s()(e.startTime).format("MMMM D hh:mm:ss a")),e}))},function(e){t([]),console.log(e),m.Message.error(e)});case"TODAY":case"YESTERDAY":case"THIS_WEEK":o={startTime:parseInt(Object(u.a)(e.data._key)),endTime:"YESTERDAY"===e.data._key?parseInt(Object(u.a)("TODAY")):parseInt(Object(u.a)("NOW"))},this.findByCriteria({connectionId:n,criteria:o}).then(function(e){t(c.a.map(e.data,function(e){return e.icon="status-"+e.status,e._name=e.name,e._key="SESSION",e.startTime&&(e.name=e._name+" - "+s()(e.startTime).format("MMMM D hh:mm:ss a")),e}))},function(e){t([]),console.log(e),m.Message.error(e)})}},onExport:function(e){this.exportVisible=!0,this.exportObj=e},onGraph:function(){},onReload:function(){var e=this;this.loadingAll=!0;var t=this.connection.id;this.findAll({connectionId:t}).then(function(t){e.loadingAll=!1},function(t){e.loadingAll=!1,console.log(t),m.Message.error("Failed to fetch sessions!")})},onBack:function(){},onDetails:function(e){console.log(e),this.session=e,this.detailVisible=!0},filterNode:function(e,t){return!e||-1!==t.name.toUpperCase().indexOf(e.toUpperCase())},renderContent:function(e,t){var n=this,a=(t.node,t.data);t.store;return e("span",{class:"custom-tree-node"},[e("span",null,[e("span",{style:"margin-right:10px;",attrs:{title:a.status}},[e("svg-icon",{attrs:{"icon-class":a.icon?a.icon:""}},[])]),e("span",{on:{click:function(e){return Object(d.a)(a.name,e)}}},[a.name])]),e("span",null,[e("span",{class:"action",on:{click:function(e){return n.onDetails(a)}},attrs:{title:"Details"}},[e("svg-icon",{attrs:{"icon-class":"list"},style:a._leaf?"":"opacity:0"},[])])])])}})},g={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingAll,expression:"loadingAll"}],staticClass:"row"},[n("session-detail",{attrs:{obj:e.session,visible:e.detailVisible},on:{close:function(t){e.detailVisible=!1}}}),n("el-card",{staticClass:"box-card tree-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",{staticStyle:{margin:"auto"}},[e._v(e._s(e.header))]),n("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{disabled:e.loading,icon:"el-icon-refresh",title:"Refresh",circle:"circle"},on:{click:e.onReload}}),n("el-dropdown",{staticStyle:{float:"right","margin-left":"10px"},attrs:{trigger:"click"},on:{command:e.onMenuCommand}},[n("el-button",{attrs:{disabled:e.loading,icon:"el-icon-more",title:"Import",circle:"circle"}}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"purge"}},[e._v("Purge Logs")])],1)],1),n("el-input",{staticStyle:{width:"400px",float:"right",padding:"3px 0"},attrs:{disabled:e.loading,placeholder:"Search"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),n("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"executables",staticStyle:{"margin-bottom":"100px"},attrs:{load:e.load,lazy:"lazy","node-key":"_key","expand-on-click-node":!1,props:e.treeProps,"render-content":e.renderContent,"filter-node-method":e.filterNode}})],1)],1)},staticRenderFns:[]};var v=n("VU/8")(b,g,!1,function(e){n("pECb"),n("BGlY")},"data-v-4bca5913",null);t.default=v.exports}});