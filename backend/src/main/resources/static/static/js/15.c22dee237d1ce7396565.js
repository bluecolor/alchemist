webpackJsonp([15],{"6gKI":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.actions[data-v-27358d9e] {\n  display: none;\n}\n.el-table__row:hover .actions[data-v-27358d9e] {\n  display: unset;\n}\n\n",""])},h5Rs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Dd8w"),a=n.n(i),r=n("M4fF"),s=n.n(r),l=n("zL8q"),o=n("NYxO"),c={data:function(){return{filterText:"",header:"Odi Users",cloneDisabled:!0,currentRow:void 0}},mounted:function(){this.init()},computed:a()({},Object(o.c)(["connection"]),Object(o.c)("security",["loading","users"]),{filteredUsers:function(){var e=this;return s.a.filter(this.users,function(t){return s.a.isEmpty(e.filterText)||t.name.toLowerCase().indexOf(e.filterText.toLowerCase())>-1})}}),methods:a()({},Object(o.b)("security",["findOdiUsers","deleteOdiUser","cloneOdiUser","renameOdiUser"]),{onCurrentChange:function(e){this.cloneDisabled=!1,this.currentRow=e},init:function(){var e=this.connection.id;this.findOdiUsers({connectionId:e})},onReload:function(){this.init()},onClone:function(){if(this.currentRow){var e=this.connection.id,t=this.currentRow.internalId;this.cloneOdiUser({connectionId:e,internalId:t})}else l.Message.warning("Select users firs!")},handleEdit:function(e,t){console.log(e,t)},onDelete:function(e,t){var n=this;t.isSupervisor?l.Message.warning("Deleting SUPERVISOR users is not supported!"):this.$confirm("This will permanently delete "+t.name+". Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){var e=n.connection.id,i=t.internalId;n.mask=!0,n.deleteOdiUser({connectionId:e,internalId:i})})},onRename:function(e,t){var n=this;this.$prompt("","Raname",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputValue:t.name,inputValidator:function(e){return!!e||"Can not be blank"}}).then(function(e){if(e.value){var i=n.connection.id,a={name:t.name,newName:e.value};n.renameOdiUser({connectionId:i,params:a})}else l.Message.warning("Can not be blank!")})},onChangePassword:function(e,t){var n=this.$createElement;this.$notify({title:"Coming soon",message:n("i",{style:"color: teal"},"This feature will be available")})},onAddUser:function(){var e=this.$createElement;this.$notify({title:"Coming soon",message:e("i",{style:"color: teal"},"This feature will be available")})}})},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticStyle:{"margin-top":"20px"}},[n("el-col",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-bottom":"40px"},attrs:{span:16,push:4}},[n("el-card",{staticClass:"box-card tree-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",{staticStyle:{margin:"auto"}},[e._v(e._s(e.header))]),n("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{disabled:e.loading,icon:"el-icon-refresh",title:"Refresh",circle:"circle"},on:{click:e.onReload}}),n("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{disabled:e.loading,type:"success",plain:"plain",icon:"el-icon-plus",title:"Add user",circle:"circle"},on:{click:e.onAddUser}}),n("el-button",{staticStyle:{float:"right","margin-left":"10px"},attrs:{disabled:e.cloneDisabled,type:"primary",plain:"plain",title:"Duplicate",circle:"circle"},on:{click:e.onClone}},[n("svg-icon",{attrs:{"icon-class":"duplicate"}})],1),n("el-input",{staticStyle:{width:"400px",float:"right",padding:"3px 0"},attrs:{disabled:e.loading,placeholder:"Search"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),n("el-table",{ref:"odiUsers",staticStyle:{width:"100%"},attrs:{data:e.filteredUsers,"highlight-current-row":"highlight-current-row"},on:{"current-change":e.onCurrentChange}},[n("el-table-column",{attrs:{label:"Name"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.name))])]}}])}),n("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isSupervisor?n("el-tag",{attrs:{type:"warning"}},[e._v("SUPERVISOR")]):e._e()]}}])}),n("el-table-column",{attrs:{align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticClass:"actions",attrs:{size:"mini"},on:{click:function(n){e.onChangePassword(t.$index,t.row)}}},[e._v("Change password")]),n("el-button",{staticClass:"actions",attrs:{size:"mini",type:"danger"},on:{click:function(n){e.onDelete(t.$index,t.row)}}},[e._v("Delete")])]}}])})],1)],1)],1)],1)},staticRenderFns:[]};var u={components:{OdiUsers:n("VU/8")(c,d,!1,function(e){n("jFgY")},"data-v-27358d9e",null).exports},data:function(){return{}}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("odi-users")],1)},staticRenderFns:[]},h=n("VU/8")(u,f,!1,null,null,null);t.default=h.exports},jFgY:function(e,t,n){var i=n("6gKI");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("8d3fa3d0",i,!0)}});